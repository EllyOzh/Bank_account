# Проект **Widget банковских операций**

## Описание:

В проекте продолжается работа над виджетом банковских операций клиента.
Созданы функции, которые сортируют операции клиента по дате и статусу выполнения.
В структуру проекта добавлены следующие модули:

##  Модуль Utils

Этот модуль содержит функцию reading_json(path) для работы с JSON-файлами, 
включая чтение данных о финансовых транзакциях.

Функция модуля протестирована с помощью библиотеки pytest.

## Модуль External_api

Этот модуль содержит функции:
- convert_currency(amount, from_currency,to_currency),
которая конвертирует валюту с использованием внешнего API;
- transaction_amount(transaction), которая выводит данные о сумме транзакции. 

Все функции модуля протестированы с помощью библиотеки pytest.

## Модуль Generators

Модуль Generators предоставляет функции для работы с массивами транзакций. 
Он включает в себя следующие функции:

- filter_by_currency(transactions, currency):  
фильтрует транзакции по заданной валюте и возвращает итератор.

- transaction_descriptions(transactions):
генератор, возвращающий описания транзакций.

- card_number_generator(low_limit, upper_limit):
генератор, который выводит номера банковских карт в виде ХХХХ ХХХХ ХХХХ ХХХХ.

## Модуль Decorators

Декоратор log предназначен для автоматического логирования начала и окончания выполнения функций, а также их результатов или возникающих ошибок. Декоратор может записывать логи в файл или выводить их в консоль в зависимости от переданного аргумента filename.

### Особенности
Поддерживает логирование успешных операций с результатами выполнения функций.
Логирует ошибки с указанием типа ошибки и входных параметров.
Гибко настраивается для записи логов в файл или вывода в консоль.
### Установка
Для использования декоратора log, скопируйте файл decorators.py в ваш проект и импортируйте декоратор:

*from decorators import log*

### Использование
Для применения декоратора к функции, просто укажите его перед определением функции:


**@log(filename="example.log")
def my_function(arg1, arg2):
    return arg1 + arg2**

Если аргумент filename не указан, логи будут выводиться в консоль.

### Тестирование
Тестирование декоратора проводится с использованием pytest. Тесты проверяют:


Возникновение ошибок и их корректное логирование.
Правильность записи логов в файл и их содержимое.
Для запуска тестов выполните команду:

*pytest test_decorators.py*

Тесты расположены в файле test_decorators.py.


Так же в проекте реализовано тестирование других всех остальных модудей:

- 'masks': функции 'get_mask_card_number' и 'get_mask_account'.
- 'widget': функции 'get_mask_account' и 'get_mask_account'.
- 'processing': 'filter_by_date' и 'sort_by_date'.
- 'generators': функции filter_by_currency, transaction_descriptions, card_number_generator.
- 
**Покрытие тестами составляет более 80% кода проекта.**

## Настройка файла .env 

Для работы с внешними API необходимо создать файл ".env" в корне проекта и 
добавить в него следующие переменные окружения:

API_KEY=ваш_ключ_доступа
API_URL=https://api.example.com

Убедитесь, что файл ".env" добавлен в ".gitignore", 
чтобы избежать случайного попадания конфиденциальной информации в репозиторий.
